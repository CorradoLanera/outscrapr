<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Google Maps Search — google_maps_search • outscrapr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Google Maps Search — google_maps_search"><meta name="description" content="Search for places on Google Maps based on a given query (or many
queries)."><meta property="og:description" content="Search for places on Google Maps based on a given query (or many
queries)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">outscrapr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Google Maps Search</h1>

      <div class="d-none name"><code>google_maps_search.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Search for places on Google Maps based on a given query (or many
queries).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">google_maps_search</span><span class="op">(</span></span>
<span>  <span class="va">query</span>,</span>
<span>  limit <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  drop_duplicates <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  coordinates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  skipPlaces <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  language <span class="op">=</span> <span class="st">"en"</span>,</span>
<span>  region <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  async <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  api_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"OUTSCRAPER_API_KEY"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-query">query<a class="anchor" aria-label="anchor" href="#arg-query"></a></dt>
<dd><p>(chr) the query you want to search. You
can use anything that you would use on a regular Google Maps site.
Additionally, you can use google_id (feature_id), place_id, or CID.</p></dd>


<dt id="arg-limit">limit<a class="anchor" aria-label="anchor" href="#arg-limit"></a></dt>
<dd><p>(int, default = 10) The parameter specifies the limit
of organizations to take from one query search.</p></dd>


<dt id="arg-drop-duplicates">drop_duplicates<a class="anchor" aria-label="anchor" href="#arg-drop-duplicates"></a></dt>
<dd><p>(lgl, default = FALSE) The parameter specifies
whether the bot will drop the same organizations from different
queries. It makes sense when you use batching and send multiple
queries inside one request.</p></dd>


<dt id="arg-coordinates">coordinates<a class="anchor" aria-label="anchor" href="#arg-coordinates"></a></dt>
<dd><p>(chr) The parameter defines the coordinates of the
location where you want your query to be applied. It has to be
constructed in the next sequence: <code>paste0(latitude, ", ", longitude)</code>, e.g. <code>"(41.3954381,2.1628662)"</code>. Often, you can find
this value while visiting <a href="https://www.google.com/maps/search/restaurants,+Manhattan,+New+York,+NY,+USA/@40.7510123,-73.9803871,13.68z" class="external-link">Google Maps</a>.</p></dd>


<dt id="arg-skipplaces">skipPlaces<a class="anchor" aria-label="anchor" href="#arg-skipplaces"></a></dt>
<dd><p>(int) Skip first N places, where N should be
multiple to 20 (e.g. 0, 20, 40). It's commonly used in pagination.</p></dd>


<dt id="arg-language">language<a class="anchor" aria-label="anchor" href="#arg-language"></a></dt>
<dd><p>(chr, default = "en") the language to use for
website.</p></dd>


<dt id="arg-region">region<a class="anchor" aria-label="anchor" href="#arg-region"></a></dt>
<dd><p>(chr, default = NULL) the country to use for website.
It's recommended to use it for a better search experience.</p></dd>


<dt id="arg-async">async<a class="anchor" aria-label="anchor" href="#arg-async"></a></dt>
<dd><p>(lgl, default = FALSE) The parameter defines the way you
want to submit your task to Outscraper. It can be set to <code>FALSE</code> to
open an HTTP connection and keep it open until you got your
results, or <code>TRUE</code> to just submit your requests to Outscraper and
retrieve them later (usually within 1-3 minutes) with the Request
Results endpoint. Each response is available for 2 hours after a
request has been completed.</p></dd>


<dt id="arg-api-key">api_key<a class="anchor" aria-label="anchor" href="#arg-api-key"></a></dt>
<dd><p>(chr, default = Sys.getenv("OUTSCRAPER_API_KEY")) Your
API key. You can get it by registering on
<a href="https://outscraper.com/" class="external-link">Outscraper</a>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with places from Google Maps based on a given search
query (or many queries).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<div class="section">
<h3 id="queries">Queries<a class="anchor" aria-label="anchor" href="#queries"></a></h3>


<p>The example of valid queries:</p><ul><li><p>Real estate agency, Rome, Italy</p></li>
<li><p>The NoMad Restaurant, NY, USA</p></li>
<li><p>restaurants, Brooklyn 11203</p></li>
<li><p>0x886916e8bc273979:0x5141fcb11460b226</p></li>
<li><p>ChIJrZhup4lZwokRUr_5sLoFlDw</p></li>
<li><p>etc.</p></li>
</ul><p>It supports batching by sending arrays with up to 250 queries (e.g.,
query=text1&amp;query=text2&amp;query=text3). It allows multiple queries to
be sent in one request and save on network latency time. You might
want to check out the web application to play with locations and
categories that we would suggest.</p>
</div>

<div class="section">
<h3 id="limit">Limit<a class="anchor" aria-label="anchor" href="#limit"></a></h3>


<p>There are no more than 500 places per one query search on
Google Maps. For densely populated areas you might want to split your
query into subqueries in order to get all the places inside. (e.g.,
<code>c("restaurants, Brooklyn 11211", "restaurants, Brooklyn 11215")</code>).</p>
</div>

<div class="section">
<h3 id="drop-duplicates">Drop duplicates<a class="anchor" aria-label="anchor" href="#drop-duplicates"></a></h3>


<p>When <code>TRUE</code> the bot combines results from each
query inside one big array (<code>{'data': [...]}</code> instead of <code>{'data': [[...], [...], [...]]}</code>). If the amount of ignored rows are less than
5,000% of what was actually extracted, you won't be billed for
ignored records.</p>
</div>

<div class="section">
<h3 id="async">Async<a class="anchor" aria-label="anchor" href="#async"></a></h3>


<p>A good practice is to send async requests and start checking
the results after the estimated execution time. Check out this Python
implementation as an example.</p>
<p>As most of the requests take some time to be executed the <code>async = TRUE</code> option is preferred to avoid HTTP requests timeouts.</p>
</div>

<div class="section">
<h3 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a></h3>


<p>The results from searches are the same as you would see by
visiting a regular Google Maps site. However, in most cases, it's
important to use locations inside queries (e.g., bars, NY, USA) as
the IP addresses of Outscraper's servers might be located in
different countries.</p>
</div>

<div class="section">
<h3 id="optimization">Optimization<a class="anchor" aria-label="anchor" href="#optimization"></a></h3>


<p>In case no places were found by your search criteria,
your search request will consume the usage of one place.</p>
<p>This endpoint is optimized for fast responses and can be used as a
real-time API. Set the limit parameter to 10 to achieve the maximum
response speed.</p>
</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># single</span></span></span>
<span class="r-in"><span>  <span class="fu">google_maps_search</span><span class="op">(</span><span class="st">"pizzeria, New York"</span>, limit <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># multiple</span></span></span>
<span class="r-in"><span>  <span class="fu">google_maps_search</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pizzeria, New York"</span>, <span class="st">"pizzeria, Chicago"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    limit <span class="op">=</span> <span class="fl">2</span>  <span class="co"># each query will return 2 places max</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Corrado Lanera.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

